



ASDF WG                                                       C. Bormann
Internet-Draft                                    Universit√§t Bremen TZI
Intended status: Standards Track                             9 June 2025
Expires: 11 December 2025


                          An sdfType for Links
                 draft-bormann-asdf-sdftype-link-latest

Abstract

   This document defines and registers an sdfType "link" for the
   Semantic Definition Format (SDF) for Data and Interactions of Things
   (draft-ietf-asdf-sdf).

About This Document

   This note is to be removed before publishing as an RFC.

   Status information for this document may be found at
   https://datatracker.ietf.org/doc/draft-bormann-asdf-sdftype-link/.

   Discussion of this document takes place on the A Semantic Definition
   Format for Data and Interactions of Things Working Group mailing list
   (mailto:asdf@ietf.org), which is archived at
   https://mailarchive.ietf.org/arch/browse/asdf/.  Subscribe at
   https://www.ietf.org/mailman/listinfo/asdf/.

   Source for this draft and an issue tracker can be found at
   https://github.com/cabo/sdftype-link.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 11 December 2025.




Bormann                 Expires 11 December 2025                [Page 1]

Internet-Draft              sdfType for Links                  June 2025


Copyright Notice

   Copyright (c) 2025 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Conventions and Definitions . . . . . . . . . . . . . . .   3
   2.  The sdfType "link"  . . . . . . . . . . . . . . . . . . . . .   3
   3.  Discussion  . . . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     6.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Appendix A.  Examples . . . . . . . . . . . . . . . . . . . . . .   6
     A.1.  Constructing a Link from an Organization's Ecosystem  . .   7
     A.2.  Using with OMA test object  . . . . . . . . . . . . . . .   8
   Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .  12
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .  12

1.  Introduction

   The Semantic Definition Format for Data and Interactions of Things
   (SDF, [I-D.ietf-asdf-sdf]) is a format for domain experts to use in
   the creation and maintenance of data and interaction models in the
   Internet of Things.

   A common data type that occurs in the modeling of IoT devices is the
   _link_. [RFC8288] defines the concept of Web Linking, which, apart
   from the target URI that any link will contain, can provide
   additional parameters, such as the "link relation type" that explains
   the relationship expressed by the link, as well as "target
   attributes" that provide additional information about the target of
   the link (without a need to "dereference", i.e., follow, the link).






Bormann                 Expires 11 December 2025                [Page 2]

Internet-Draft              sdfType for Links                  June 2025


   This document defines and registers an sdfType "link" for the
   Semantic Definition Format.  This type models an abstract
   "serialization" [RFC8288] of a link, in a way that is compatible with
   the way SDF maps information models to its data modeling language.

1.1.  Conventions and Definitions

   The definitions of [RFC6690], [RFC8288], and [I-D.ietf-asdf-sdf]
   apply.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   [BCP14] (RFC2119) (RFC8174) when, and only when, they appear in all
   capitals, as shown here.

2.  The sdfType "link"

   The sdfType "link" is intended to be used with the SDF "type" of
   "object".  The members of that object are strings that are named the
   same as the link parameter (attribute) names.  The special parameter
   name "href" is used to express the link target.  (Parameter names
   specific to the Constrained RESTful Environment (CoRE) are also
   discussed in [RFC9423].)

   Note that attribute names and relation type names are case-
   insensitive in [RFC8288].  Strings that are case-insensitive in
   [RFC8288] MUST be in their lowercase form when used in this
   specification.

   An example for the instance of a link is provided in Section 5 of
   [RFC6690]:

      </sensors/temp>;rt="temperature-c";if="sensor",

   To hold a link like this, we could describe an SDF affordance that is
   specific on the target attributes above, but does not contain
   instance-specific (run-time) information on the actual URI that
   points to the link target.  An sdfProperty for that could look like:












Bormann                 Expires 11 December 2025                [Page 3]

Internet-Draft              sdfType for Links                  June 2025


   {
    "sdfProperty": {
     "temp-c-link": {
      "type": "object",
      "sdfType": "link",
      "properties": {
        "href": { "type": "string"},
        "rt": { "type": "string", "const": "temperature-c"},
        "if": { "type": "string", "const": "sensor"}
      }
     }
    }
   }

   Further examples that show sdfType "link" in context are in
   Appendix A.

3.  Discussion

   Links play an important role in SDF modeling both during definition
   time (for adding information to a model, such as in sdfRef) and
   during run time (for making links to instances into a subject of data
   and interaction modeling).  The present document is an early attempt
   at addressing the run-time usage of links, in particular links that
   fit the Web Linking [RFC8288] abstractions.  A related draft
   [I-D.laari-asdf-relations] addresses definition-time links, but does
   seem to touch modeling run-time use of links as well (e.g., by
   discussing "writable" link relations).

   Not all links used in ecosystems are based on URIs.  E.g., OMA has
   "object links", which are basically pairs of numbers (object/
   instance).  These ecosystem links may have some structure that should
   be modeled in the SDF model (e.g., where the object id part of a link
   always has to have a specific value).  This structure can be mapped
   into URI strings using some convention, e.g., an OMA object link
   could be oma-object:3303:0 (where oma-object is placeholder for a URI
   scheme to be defined).  However, burying structural components of the
   ecosystem-specific link in a string syntax makes it hard to access
   and control those components from the model.

   TODO: Examples are needed to show how the OCF collection pattern is
   addressed by the current specification.









Bormann                 Expires 11 December 2025                [Page 4]

Internet-Draft              sdfType for Links                  June 2025


4.  Security Considerations

   The security considerations of [RFC8288] apply in a general way,
   although modeling a link as a datatype does not incur all of the
   security considerations that will apply to actually interchanging
   these links.

   (TODO)

5.  IANA Considerations

   // RFC Ed.: please replace RFC XXXX with this RFC number and remove
   this note.

   IANA is requested to register the sdfType "link" in the "sdfType
   Values" sub-registry in the "SDF Parameters" registry, with the
   following completion for the registration template:

     +======+=============+========+=====================+===========+
     | Name | Description | type   | JSON Representation | Reference |
     +======+=============+========+=====================+===========+
     | link | A Web Link  | object | object members for  | RFCXXXX   |
     |      | [RFC8288]   |        | link attributes     |           |
     +------+-------------+--------+---------------------+-----------+

                  Table 1: Registration for sdfType "link"

6.  References

6.1.  Normative References

   [BCP14]    Best Current Practice 14,
              <https://www.rfc-editor.org/info/bcp14>.
              At the time of writing, this BCP comprises the following:

              Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

              Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [I-D.ietf-asdf-sdf]
              Koster, M., Bormann, C., and A. Ker√§nen, "Semantic
              Definition Format (SDF) for Data and Interactions of
              Things", Work in Progress, Internet-Draft, draft-ietf-



Bormann                 Expires 11 December 2025                [Page 5]

Internet-Draft              sdfType for Links                  June 2025


              asdf-sdf-23, 17 March 2025,
              <https://datatracker.ietf.org/doc/html/draft-ietf-asdf-
              sdf-23>.

   [RFC8288]  Nottingham, M., "Web Linking", RFC 8288,
              DOI 10.17487/RFC8288, October 2017,
              <https://www.rfc-editor.org/rfc/rfc8288>.

6.2.  Informative References

   [I-D.laari-asdf-relations]
              Laari, P., "Extended relation information for Semantic
              Definition Format (SDF)", Work in Progress, Internet-
              Draft, draft-laari-asdf-relations-04, 28 January 2025,
              <https://datatracker.ietf.org/doc/html/draft-laari-asdf-
              relations-04>.

   [RFC6690]  Shelby, Z., "Constrained RESTful Environments (CoRE) Link
              Format", RFC 6690, DOI 10.17487/RFC6690, August 2012,
              <https://www.rfc-editor.org/rfc/rfc6690>.

   [RFC7396]  Hoffman, P. and J. Snell, "JSON Merge Patch", RFC 7396,
              DOI 10.17487/RFC7396, October 2014,
              <https://www.rfc-editor.org/rfc/rfc7396>.

   [RFC9423]  Bormann, C., "Constrained RESTful Environments (CoRE)
              Target Attributes Registry", RFC 9423,
              DOI 10.17487/RFC9423, April 2024,
              <https://www.rfc-editor.org/rfc/rfc9423>.

Appendix A.  Examples

   sdfType "link" can be used to specify links with information specific
   to an organization's ecosystem.  In many cases, sdfRef (see
   Section 4.4 of [I-D.ietf-asdf-sdf]) provides a convenient way to
   assemble the link specification from elements that are generic for an
   organization and elements that are specific to the model being
   defined.

      |  Note that sdfRef operates by applying the JSON Merge Patch
      |  algorithm [RFC7396] to patch the contents of the definition
      |  found at the global name (see Section 4 of [I-D.ietf-asdf-sdf])
      |  with the contents of the original JSON map, i.e., the
      |  definition containing the sdfRef quality with the entry for the
      |  sdfRef quality removed.  The result of that Merge Patch is then
      |  used in place of the value of the original JSON map.





Bormann                 Expires 11 December 2025                [Page 6]

Internet-Draft              sdfType for Links                  June 2025


A.1.  Constructing a Link from an Organization's Ecosystem

   If the organization example.com provides a definition for an idlink
   that is intended to be referenced to obtain more information about
   the sdfObject myObj, this could look like:

   {
     "namespaces": {
       "org": "https://models.example.com/",
       "orgtypes": "https://models.example.com/#/sdfData/"
     },
     "defaultNamespace": "org",
     "sdfObject": {
       "myObj": {
         "sdfProperty": {
           "linkToInformation": {
             "description": "More info about foo",
             "sdfRef": "orgtypes:idlink"
           }
         }
       }
     }
   }

   This example assumes example.com has exported a definition for idlink
   such as the following:

























Bormann                 Expires 11 December 2025                [Page 7]

Internet-Draft              sdfType for Links                  June 2025


   {
     "namespace": {
       "org": "https://models.example.com/"
     },
     "sdfData": {
       "idlink": {
         "description": "Special kind of link type example org uses",
         "type": "object",
         "sdfType": "link",
         "properties": {
           "href": {
             "type": "string"
           },
           "id": {
             "type": "integer",
             "minvalue": 0,
             "maxvalue": 255,
             "description": "Special identifier for metadata about this link"
           }
         }
       }
     }
   }

A.2.  Using with OMA test object

   As a more specific example, the following assumes that
   openmobilealliance.org has provided a definition under objlink for
   the Object Links defined for LWM2M.
   // Add reference!





















Bormann                 Expires 11 December 2025                [Page 8]

Internet-Draft              sdfType for Links                  June 2025


   {
     "info": {
       "title": "OMA LwM2M LwM2M v1.1 Test Object (Object ID 3442)",
       "version": "2025-05-05",
       "copyright": "Copyright (c) 2018-2020 IPSO",
       "license": "BSD-3-Clause"
     },
     "namespace": {
       "oma": "https://models.openmobilealliance.org/",
       "omatypes": "https://models.openmobilealliance.org/#/sdfData/"
     },
     "defaultNamespace": "oma",
     "sdfObject": {
         "LwM2M_v1.1_Test_Object": {
         "label": "LwM2M v1.1 Test Object",
         "description": "This object aims to make it easier to do interoperability tests about LWM2M v1.1. It contains resources for each available datatype.",
         "oma:id": 3442,
         "sdfProperty": {
           "ObjLink_Value": {
             "label": "ObjLnk Value",
             "description": "Initial value must be a link to instance 0 of Device Object 3 (3:0).",
             "oma:id": 170,
             "sdfRef": "omatypes:objlink",
             "properties": {
                 "object-instance-id": {
                     "$comment": "Example of refinement of link attribute",
                     "maximum": 42
                 }
             }
           },
           "CoreLnk_Value": {
             "label": "CoreLnk Value",
             "description": "Initial value must be a the \"</3442>\".",
             "oma:id": 180,
             "sdfRef": "omatypes:corelink"
           }
         }
       }
     }
   }

   The following is a potential definition that openmobilealliance.org
   could export that provides sdfRef-friendly descriptions of LWM2M core
   links as well as the more LWM2M specific object links:







Bormann                 Expires 11 December 2025                [Page 9]

Internet-Draft              sdfType for Links                  June 2025


   {
     "info": {
       "description": "Common data type definitions for OMA LwM2M models",
       "copyright": "Copyright 2025 Open Mobile Alliance",
       "license": "BSD-3-Clause"
     },
     "namespace": {
       "oma": "https://models.openmobilealliance.org/"
     },
     "defaultNamespace": "oma",
     "sdfData": {
       "corelink": {
         "description": "CoRE link format link",
         "$comment": "See https://md2html-tool.com/docs/OpenMobileAlliance/LwM2M/master/e58dc1c/TS_Core/OMA-TS-LightweightM2M_Core-V1_2_2-20240613-A_full.html#Table-732-1-lessNOTIFICATIONgreater-class-Attributes",
         "type": "object",
         "sdfType": "link",
         "properties": {
           "href": {
             "type": "string"
           },
           "pmin": {
             "type": "integer",
             "minimum": 0
           },
           "pmax": {
             "type": "integer",
             "minimum": 0
           },
           "gt": {
             "type": "number"
           },
           "lt": {
             "type": "number"
           },
           "st": {
             "type": "number"
           },
           "epmin": {
             "type": "integer",
             "minimum": 0
           },
           "epmax": {
             "type": "integer"
           },
           "edge": {
             "type": "integer",
             "minimum": 0,
             "maximum": 1



Bormann                 Expires 11 December 2025               [Page 10]

Internet-Draft              sdfType for Links                  June 2025


           },
           "con": {
             "type": "integer",
             "minimum": 0,
             "maximum": 1
           },
           "hqmax": {
             "type": "integer",
             "minimum": 0
           },
           "dim": {
             "type": "integer",
             "minimum": 0,
             "maximum": 65535
           },
           "ssid": {
             "type": "integer",
             "minimum": 1,
             "maximum": 65535
           },
           "uri": {
             "type": "string"
           },
           "ver": {
             "type": "string"
           },
           "lwm2m": {
             "type": "string"
           },
           "_other": {
             "type": "array",
             "items":{
               "type": "string"
             }
           }
         }
       },
       "objlink": {
         "description": "OMA LwM2M Object link",
         "type": "object",
         "sdfType": "link",
         "properties": {
           "object-id": {
             "type": "integer",
             "minimum": 0,
             "maximum": 65535
           },
           "object-instance-id": {



Bormann                 Expires 11 December 2025               [Page 11]

Internet-Draft              sdfType for Links                  June 2025


             "type": "integer",
             "minimum": 0,
             "maximum": 65535
           }
         }
       }
     }
   }

Acknowledgments

   Discussions in the OneDM liaison organization shaped this proposal.

Author's Address

   Carsten Bormann
   Universit√§t Bremen TZI
   Postfach 330440
   D-28359 Bremen
   Germany
   Phone: +49-421-218-63921
   Email: cabo@tzi.org





























Bormann                 Expires 11 December 2025               [Page 12]
